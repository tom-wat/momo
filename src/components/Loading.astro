---

---

<div class="loading-screen"></div>
<img class="loading-title" src="/momo/images/title-white.avif" alt="" />

<style>
  .loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: hsl(30, 100%, 50%);
    z-index: 10;
    opacity: 1;
    transition: transform 0.3s ease-in-out;
  }

  .loading-screen.loaded {
    transform: translateY(-100%);
  }

  .loading-title {
    position: fixed;
    width: 96%;
    z-index: 20;
    top: 54%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: opacity 0.5s;
    &.loaded {
      opacity: 0;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const body = document.querySelector("body");
    const loadingTitle = document.querySelector(
      ".loading-title"
    ) as HTMLElement;

    const loadingScreen = document.querySelector(
      ".loading-screen"
    ) as HTMLElement;
    // let startTime = performance.now();

    function hideLoadingScreen() {
      loadingScreen.classList.add("loaded");
      loadingTitle.classList.add("loaded");
      // cover.classList.add("loaded");
      // title.classList.add("loaded");

      // requestAnimationFrame(() => {
      //   loadingScreen.classList.add("fade-out");
      // });
    }

    // function checkCacheAndHide() {
    //   const loadTime = performance.now() - startTime;
    //   const isCached = loadTime < 200; // 200ミリ秒未満の場合、キャッシュされていると仮定

    //   if (isCached) {
    //     // キャッシュがある場合、短い遅延を設定
    //     setTimeout(hideLoadingScreen, 200);
    //   } else {
    //     // キャッシュがない場合、より長い遅延を設定
    //     setTimeout(hideLoadingScreen, 800);
    //   }
    // }

    window.addEventListener("load", hideLoadingScreen);

    loadingScreen.addEventListener("transitionend", () => {
      body.style.overflow = "auto";
      loadingScreen.style.display = "none";
    });
    loadingTitle.addEventListener("transitionend", () => {
      loadingTitle.style.display = "none";
    });
  });
</script>
